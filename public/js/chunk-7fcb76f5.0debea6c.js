(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fcb76f5"],{"037b":function(t,e,a){"use strict";a("32be")},1826:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[t.$global.hasPermission("modelsstore")&&t.allowCreate>0?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:t.$t("button.title.addItem")},on:{click:t.handleAddModelClick}},[a("i",{staticClass:"fe fe-plus"})]):t._e(),t.$global.hasPermission("modelsupdate")&&t.hasId&&t.allowUpdate>0?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:t.handleEditModelClick}},[a("i",{staticClass:"fe fe-edit"})]):t._e(),a("b-modal",{attrs:{size:"lg",title:t.operationTitle,"hide-footer":""},model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[a("div",{staticClass:"model-operation"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.editLoading,expression:"editLoading"}]},[a("b-skeleton-table",{attrs:{rows:5,columns:2,"table-props":{bordered:!0,striped:!0}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.editLoading,expression:"!editLoading"}]},[a("b-row",[a("b-col",{attrs:{sm:"6"}},[a("b-form-group",{attrs:{label:t.$t("input.title")+" *","label-for":"title","invalid-feedback":t.formErrors.first("title")}},[a("b-form-input",{attrs:{id:"title",type:"text",state:!t.formErrors.has("title")&&null},model:{value:t.formFields.title,callback:function(e){t.$set(t.formFields,"title",e)},expression:"formFields.title"}})],1)],1),a("b-col",{attrs:{sm:"6"}},[a("b-form-group",{attrs:{label:t.$t("input.type")+" *","label-for":"type","invalid-feedback":t.formErrors.first("type")}},[a("b-form-input",{attrs:{id:"type",type:"text",state:!t.formErrors.has("type")&&null},model:{value:t.formFields.type,callback:function(e){t.$set(t.formFields,"type",e)},expression:"formFields.type"}})],1)],1),a("b-col",{attrs:{sm:"4"}},[a("b-form-group",{attrs:{label:t.$t("input.length")+" *","label-for":"length","invalid-feedback":t.formErrors.first("length")}},[a("b-form-input",{attrs:{id:"length",step:".01",type:"number",state:!t.formErrors.has("length")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.length,callback:function(e){t.$set(t.formFields,"length",e)},expression:"formFields.length"}})],1)],1),a("b-col",{attrs:{sm:"4"}},[a("b-form-group",{attrs:{label:t.$t("input.width")+" *","label-for":"width","invalid-feedback":t.formErrors.first("width")}},[a("b-form-input",{attrs:{id:"width",step:".01",type:"number",state:!t.formErrors.has("width")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.width,callback:function(e){t.$set(t.formFields,"width",e)},expression:"formFields.width"}})],1)],1),a("b-col",{attrs:{sm:"4"}},[a("b-form-group",{attrs:{label:t.$t("input.height")+" *","label-for":"height","invalid-feedback":t.formErrors.first("height")}},[a("b-form-input",{attrs:{id:"height",type:"number",step:".01",state:!t.formErrors.has("height")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.height,callback:function(e){t.$set(t.formFields,"height",e)},expression:"formFields.height"}})],1)],1),a("b-col",{attrs:{sm:"6"}},[a("b-form-group",{attrs:{label:t.$t("input.deliveryFactors")+" *","label-for":"delivery_factors","invalid-feedback":t.formErrors.first("delivery_factors")}},[a("b-form-input",{attrs:{id:"delivery_factors",type:"number",state:!t.formErrors.has("delivery_factors")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.delivery_factors,callback:function(e){t.$set(t.formFields,"delivery_factors",e)},expression:"formFields.delivery_factors"}})],1)],1)],1)],1),a("div",{staticClass:"quick-modal-footer pt-1"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?a("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),a("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:t.handleOperationClose}},[a("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])],1)],1)])])],1)},i=[],n=a("a34a"),o=a.n(n),s=a("3f08"),l=a("dc1c"),c=a("e1b6"),d=a("4c3c"),u=a("2f62"),f=a("17e8");function m(t,e,a,r,i,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function b(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function o(t){m(n,r,i,o,s,"next",t)}function s(t){m(n,r,i,o,s,"throw",t)}o(void 0)}))}}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={title:null,brand_id:null,type:null,length:null,width:null,height:null,delivery_factors:null,is_active:!0,_method:"post"},g={props:["allowCreate","allowUpdate","id","afterCreate","afterUpdate","afterCancel","dependBrandId"],components:{Fragment:s["a"]},data:function(){return{formErrors:new l["a"]({}),formFields:h({},_),visibility:!1,editLoading:!1,operationTitle:this.$t("title.addModel")}},methods:{handleSubmit:function(){var t=this;return b(o.a.mark((function e(){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(c["b"])({url:t.formFields.id?"models/update":"models/create",method:"post",data:t.formFields});case 4:a=e.sent,t.formFields.id?t.handleAfterModelUpdate(t.formFields,t.formFields.id):t.handleAfterModelCreate(a.data),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(d["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleEditClick:function(t){var e=this;return b(o.a.mark((function a(){var r,i,n;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.editLoading=!0,a.next=4,Object(c["b"])({method:"get",url:"/models/detail/".concat(t)});case 4:r=a.sent,e.operationTitle=e.$t("title.addModel"),i=r.data,n=i.brand,delete i.brand,e.formFields=h(h({},i),{},{is_active:i.is_active>0,brand_id:n?n.id:null}),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),Object(f["g"])(e.$notification),e.formFields=h({},_);case 16:return a.prev=16,e.editLoading=!1,a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,12,16,19]])})))()},handleAddModelClick:function(){this.operationTitle=this.$t("title.addModel"),this.visibility=!0},handleEditModelClick:function(){this.operationTitle=this.$t("title.editModel"),this.visibility=!0,this.handleEditClick(this.id)},handleOperationClose:function(){this.formFields=h({},_),this.visibility=!1,this.handleAfterOperationCancel()},handleAfterOperationCancel:function(){this.afterCancel&&this.afterCancel()},handleAfterModelCreate:function(t){this.afterCreate&&this.afterCreate(t)},handleAfterModelUpdate:function(t){this.afterUpdate&&this.afterUpdate(t)}},computed:h(h({},Object(u["c"])(["global","settings"])),{},{hasId:function(){return this.id}}),watch:{dependBrandId:{immediate:!0,handler:function(t,e){this.formFields.brand_id=t}}}},w=g,C=a("2877"),k=Object(C["a"])(w,r,i,!1,null,null,null);e["a"]=k.exports},"1bd3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header card-header-flex pb-2"},[a("div",{staticClass:"w-100 mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("h5",{staticClass:"mt-3 ml-0 mr-3 mb-2"},[a("strong",[null===t.operation?[t._v(t._s(t.$t("title.manufacturers")))]:[t._v(t._s(t.$t(t.operationTitle)))]],2)])]),a("div",{staticClass:"col-4 text-right"},[null===t.operation?a("div",[a("div",{staticClass:"mt-3"},[a("b-input-group",{staticClass:"mt-3"},[a("b-form-input",{staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:t.$t("input.whatAreYouLookingFor")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("b-input-group-append",[t.$global.hasPermission("manufacturersstore")?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",size:"sm",title:t.$t("button.title.addNewItem")},on:{click:function(e){return t.setOperation("add")}}},[a("i",{staticClass:"fe fe-plus"}),t._v(" "+t._s(t.$t("button.addNew"))+" ")]):t._e(),t.$global.hasPermission("manufacturersview")?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.filterRecords"),variant:"outline-info"},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[a("i",{staticClass:"fa fa-filter"})]):t._e(),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.resetList"),variant:"outline-info"},on:{click:function(e){return t.handleResetClick()}}},[a("i",{staticClass:"fa fa-refresh"})])],1)],1)],1)]):a("div",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[a("i",{staticClass:"fa fa-arrow-left"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])])])]),a("div",{staticClass:"card-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:null===t.operation,expression:"operation === null"}],staticClass:"manufacturers-table"},[a("b-table",{ref:"table",attrs:{hover:"",responsive:"",busy:t.listingLoading,items:t.dataSource,fields:t.columns,"sort-by":t.sortField},on:{"update:sortBy":function(e){t.sortField=e},"update:sort-by":function(e){t.sortField=e},"sort-changed":t.handleSortChange},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(is_active)",fn:function(e){return[a("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active>0,expression:"record.item.is_active > 0"}],attrs:{variant:"success"}},[t._v(t._s(t.$t("msc.active"))+" ")]),a("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active<=0,expression:"record.item.is_active <= 0"}]},[t._v(t._s(t.$t("msc.de_active")))])]}},{key:"cell(action)",fn:function(e){return[t.$global.hasPermission("manufacturersupdate")?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:t.$t("button.title.detailItem")},on:{click:function(a){return t.setOperation("detail",e.item.id)}}},[a("i",{staticClass:"fe fe-eye"})]):t._e(),t.$global.hasPermission("manufacturersupdate")?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.setOperation("edit",e.item.id)}}},[a("i",{staticClass:"fe fe-edit"})]):t._e(),t.$global.hasPermission("manufacturersdestroy")?a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteClick(e.item.id)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])]):t._e()]}}],null,!1,820908815)}),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"float-right"},[a("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.perPage,"first-text":t.$t("paginations.first"),"prev-text":t.$t("paginations.prev"),"next-text":t.$t("paginations.next"),"last-text":t.$t("paginations.last")},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)])],1),a("div",{staticClass:"manufacturers-operation"},[null!==t.operation&&"detail"===t.operation?a("div",[a("div",{staticClass:"users-operation"},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-row",[a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.name"),"label-for":"name","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.name)+" ")])],1),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.phone"),"label-for":"phone","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.phone)+" ")])],1),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.email"),"label-for":"email","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.email)+" ")])],1),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.fax"),"label-for":"fax","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.fax)+" ")])],1),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("div",{staticClass:"form-group"},[a("b-form-group",{attrs:{label:t.$t("input.street"),"label-for":"street","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.main_location.street)+" ")])],1)]),a("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.comment")+" ","label-for":"comment","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(t.formFields.comment)+" ")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("b-form-group",{attrs:{label:t.$t("input.is_active"),"label-for":"is_active","label-size":"lg","label-class":"font-weight-bold"}},[t._v(" "+t._s(!0===t.formFields.is_active?t.$t("msc.active"):t.$t("msc.de_active"))+" ")])],1)])],1),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-2"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-location",modifiers:{"manufacturer-location":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.manufacturerLocations"))+" ")]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_locations.length>0,expression:"manufacturer_locations.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_locations.length)+" Item/s ")])])]),a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",[t._v(t._s(t.$t("column.locationDetail")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_locations,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_location.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[a("div",[a("strong",[t._v(t._s(t.$t("column.location"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.locations,{id:e.location_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.supplierReleaseAgent"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.suppliers,{id:e.supplier_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.locationType"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.location_types,{id:e.location_type_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.supplierTransportationCompanies")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.suppliers,(function(a){return t._.includes(e.suppliers,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.brands")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.brands,(function(a){return t._.includes(e.brands,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.models")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.models,(function(a){return t._.includes(e.models,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])])]),a("td",[t._.includes(t.manufacturer_contacts.map((function(t){var e=t.locations;return e.map((function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]),e.location_id)&&e.location_id!==t.formFields.main_location_id?t._e():a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerLocationClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerLocationClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_locations.length<=0,expression:"manufacturer_locations.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)],1)],1),a("b-col",{staticClass:"mt-3",attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-2"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-contact",modifiers:{"manufacturer-contact":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t("title.manufacturerContacts")))]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_contacts.length>0,expression:"manufacturer_contacts.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_contacts.length)+" Item/s ")])])]),a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.contact")))]),a("th",[t._v(t._s(t.$t("column.locations")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_contacts,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_contact.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[t._v(t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.label})).join(", ")))]),a("td",[a("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getLocationsLabel(e))+" ")])]),a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerContactClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerContactClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_contacts.length<=0,expression:"manufacturer_contacts.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)],1)],1),a("b-col",{staticClass:"mt-3 mb-5",attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-2"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-brand",modifiers:{"manufacturer-brand":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t("title.manufacturerBrands")))]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_brands.length>0,expression:"manufacturer_brands.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_brands.length)+" Item/s ")])])]),a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",[t._v(t._s(t.$t("column.brand")))]),a("th",[t._v(t._s(t.$t("column.models")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_brands,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_brand.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[t._v(t._s([t._.find(t.dropdowns.brands,{id:e.brand_id})].map((function(t){return t.label})).join(", ")))]),a("td",[a("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getModelsLabel(e))+" ")])]),a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerBrandClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerBrandClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_brands.length<=0,expression:"manufacturer_brands.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)],1)],1)],1)],1),a("div",{staticClass:"drawer-footer"},[a("b-row",[a("b-col",{attrs:{md:"12",lg:"12",sm:"12"}},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[a("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.close"))+" ")])],1)],1)],1)],1)],1)],1)]):t._e(),a("a-drawer",{attrs:{placement:"right",width:"80%",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:null!==t.operation&&"detail"!==t.operation,zIndex:10,title:t.$t(t.operationTitle)},on:{close:t.handleOperationClose}},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-row",[a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.name")+" *","label-for":"name","invalid-feedback":t.formErrors.first("name")}},[a("b-form-input",{attrs:{id:"name",type:"text",state:!t.formErrors.has("name")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.name,callback:function(e){t.$set(t.formFields,"name",e)},expression:"formFields.name"}})],1)],1),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.phone")+" *","label-for":"phone","invalid-feedback":t.formErrors.first("phone")}},[a("b-form-input",{attrs:{id:"phone",type:"number",pattern:"^[0-9-+()]*",title:"+(XXX) XXX",state:!t.formErrors.has("phone")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.phone,callback:function(e){t.$set(t.formFields,"phone",e)},expression:"formFields.phone"}})],1)],1),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.email")+" *","label-for":"email","invalid-feedback":t.formErrors.first("email")}},[a("b-form-input",{attrs:{id:"email",type:"text",state:!t.formErrors.has("email")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.email,callback:function(e){t.$set(t.formFields,"email",e)},expression:"formFields.email"}})],1)],1),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.fax")+" *","label-for":"fax","invalid-feedback":t.formErrors.first("fax")}},[a("b-form-input",{attrs:{id:"fax",type:"text",state:!t.formErrors.has("fax")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.fax,callback:function(e){t.$set(t.formFields,"fax",e)},expression:"formFields.fax"}})],1)],1),a("b-col",{attrs:{lg:"8",md:"8",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"main_location"}},[t._v(t._s(t.$t("input.mainLocation"))+" ")])]),a("span",{staticClass:"pull-right"},[a("quick-location-form",{attrs:{"allow-update":"1","allow-create":t.mainLocationDisable?0:1,id:t.formFields.main_location_id,"after-create":t.handleAfterQuickMainLocationCreated,"after-update":t.handleAfterQuickMainLocationUpdated}})],1)]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("main_location_id")}],attrs:{multiple:!1,disabled:t.mainLocationDisable,options:t.dropdowns.locations,placeholder:""},model:{value:t.formFields.main_location_id,callback:function(e){t.$set(t.formFields,"main_location_id",e)},expression:"formFields.main_location_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("main_location_id")))])],1)]),a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.comment")+" ","label-for":"comment","invalid-feedback":t.formErrors.first("comment")}},[a("b-form-input",{attrs:{id:"comment",state:!t.formErrors.has("comment")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.comment,callback:function(e){t.$set(t.formFields,"comment",e)},expression:"formFields.comment"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-0"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-location",modifiers:{"manufacturer-location":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.manufacturerLocations"))+" ")]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_locations.length>0,expression:"manufacturer_locations.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_locations.length)+" Item/s ")])])]),a("b-collapse",{attrs:{id:"manufacturer-location"}},[a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-row",[a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block",attrs:{for:"location"}},[t._v(t._s(t.$t("input.location"))+" *")]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("location_id")}],attrs:{multiple:!1,options:t.dropdowns.locations,placeholder:""},model:{value:t.manufacturer_location.location_id,callback:function(e){t.$set(t.manufacturer_location,"location_id",e)},expression:"manufacturer_location.location_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("location_id")))])],1)]),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block",attrs:{for:"supplierReleaseAgent"}},[t._v(t._s(t.$t("input.supplierReleaseAgent"))+" *")]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("supplier_id")}],attrs:{multiple:!1,options:t.dropdowns.suppliers,placeholder:""},model:{value:t.manufacturer_location.supplier_id,callback:function(e){t.$set(t.manufacturer_location,"supplier_id",e)},expression:"manufacturer_location.supplier_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("supplier_id")))])],1)]),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"manufacturerLocationLocationType"}},[t._v(t._s(t.$t("input.locationType"))+" *")])]),a("span",{staticClass:"pull-right"},[a("quick-location-type-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.manufacturer_location.location_type_id,"after-create":t.handleAfterQuickLocationTypeCreated,"after-update":t.handleAfterQuickLocationTypeUpdated}})],1)]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("location_type_id")}],attrs:{multiple:!1,options:t.dropdowns.location_types,placeholder:""},model:{value:t.manufacturer_location.location_type_id,callback:function(e){t.$set(t.manufacturer_location,"location_type_id",e)},expression:"manufacturer_location.location_type_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("location_type_id")))])],1)]),a("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"supplierTransportationCompanies"}},[t._v(t._s(t.$t("input.supplierTransportationCompanies"))+" *")])]),a("span",{staticClass:"pull-right"})]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("suppliers")}],attrs:{multiple:!0,options:t.dropdowns.suppliers,placeholder:""},model:{value:t.manufacturer_location.suppliers,callback:function(e){t.$set(t.manufacturer_location,"suppliers",e)},expression:"manufacturer_location.suppliers"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("suppliers")))])],1)])],1),a("b-row",[a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"brands"}},[t._v(t._s(t.$t("input.brands"))+" *")])]),a("span",{staticClass:"pull-right"})]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("brands")}],attrs:{multiple:!0,options:t.brands,placeholder:""},model:{value:t.manufacturer_location.brands,callback:function(e){t.$set(t.manufacturer_location,"brands",e)},expression:"manufacturer_location.brands"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("brands")))])],1)]),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"models"}},[t._v(t._s(t.$t("input.models"))+" *")])]),a("span",{staticClass:"pull-right"})]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("models")}],attrs:{multiple:!0,options:t._.filter(t.dropdowns.models,(function(e){return t._.includes(t.manufacturer_location.brands,e.brand_id)})),placeholder:""},model:{value:t.manufacturer_location.models,callback:function(e){t.$set(t.manufacturer_location,"models",e)},expression:"manufacturer_location.models"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("models")))])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateManufacturerLocationClick()}}},[t._v(" "+t._s(t.$t("button.assignLocation"))+" ")])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetManufacturerLocation()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1)],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",[t._v(t._s(t.$t("column.locationDetail")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_locations,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_location.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[a("div",[a("strong",[t._v(t._s(t.$t("column.location"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.locations,{id:e.location_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.supplierReleaseAgent"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.suppliers,{id:e.supplier_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.locationType"))+": ")]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s([t._.find(t.dropdowns.location_types,{id:e.location_type_id})].map((function(t){return t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.supplierTransportationCompanies")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.suppliers,(function(a){return t._.includes(e.suppliers,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.brands")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.brands,(function(a){return t._.includes(e.brands,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])]),a("div",[a("strong",[t._v(t._s(t.$t("column.models")))]),a("div",{staticClass:"d-inline"},[t._v(" "+t._s(t._.filter(t.dropdowns.models,(function(a){return t._.includes(e.models,a.id)})).map((function(t,e){return e+1+". "+t.label})).join(", "))+" ")])])]),a("td",[t._.includes(t.manufacturer_contacts.map((function(t){var e=t.locations;return e.map((function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]),e.location_id)&&e.location_id!==t.formFields.main_location_id?t._e():a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerLocationClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerLocationClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_locations.length<=0,expression:"manufacturer_locations.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),a("b-col",{staticClass:"mt-3",attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-0"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-contact",modifiers:{"manufacturer-contact":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t("title.manufacturerContacts")))]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_contacts.length>0,expression:"manufacturer_contacts.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_contacts.length)+" Item/s ")])])]),a("b-collapse",{attrs:{id:"manufacturer-contact"}},[a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"contact"}},[t._v(t._s(t.$t("input.contact"))+" *")])]),a("span",{staticClass:"pull-right"},[a("quick-contact-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.manufacturer_contact.contact_id,"after-create":t.handleAfterQuickContactCreated,"after-update":t.handleAfterQuickContactUpdated}})],1)]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("contact_id")}],attrs:{multiple:!1,options:t.dropdowns.contacts,placeholder:""},model:{value:t.manufacturer_contact.contact_id,callback:function(e){t.$set(t.manufacturer_contact,"contact_id",e)},expression:"manufacturer_contact.contact_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("contact_id")))])],1)]),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"contact"}},[t._v(t._s(t.$t("input.locations"))+" ")])])]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("locations")}],attrs:{multiple:!0,options:t._.filter(t.dropdowns.locations,(function(e){return t._.includes(t.manufacturer_locations.map((function(t){return t.location_id})),e.id)||e.id===t.formFields.main_location_id})),placeholder:""},model:{value:t.manufacturer_contact.locations,callback:function(e){t.$set(t.manufacturer_contact,"locations",e)},expression:"manufacturer_contact.locations"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("locations")))])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateManufacturerContactClick()}}},[t._v(" "+t._s(t.$t("button.assignContact"))+" ")])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetManufacturerContact()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.contact")))]),a("th",[t._v(t._s(t.$t("column.locations")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_contacts,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_contact.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[a("div",[a("strong",[t._v(t._s(t.$t("column.contact"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.label})).join(", ")))]),a("div",[a("strong",[t._v(t._s(t.$t("column.function"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.function})).join(", ")))]),a("div",[a("strong",[t._v(t._s(t.$t("column.phone"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.phone})).join(", ")))]),a("div",[a("strong",[t._v(t._s(t.$t("column.email"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.email})).join(", ")))])]),a("td",[a("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getLocationsLabel(e))+" ")])]),a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerContactClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerContactClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_contacts.length<=0,expression:"manufacturer_contacts.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),a("b-col",{staticClass:"mt-3 mb-5",attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-0"},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.manufacturer-brand",modifiers:{"manufacturer-brand":!0}}],staticClass:"p-0"},[a("h4",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t("title.manufacturerBrands")))]),a("small",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_brands.length>0,expression:"manufacturer_brands.length > 0"}]},[t._v(" - "+t._s(t.manufacturer_brands.length)+" Item/s ")])])]),a("b-collapse",{attrs:{id:"manufacturer-brand"}},[a("div",{staticClass:"bg-light p-3"},[a("b-row",[a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"brand"}},[t._v(t._s(t.$t("input.brand"))+" *")])]),a("span",{staticClass:"pull-right"},[a("quick-brand-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.manufacturer_brand.brand_id,"after-create":t.handleAfterQuickBrandCreated,"after-update":t.handleAfterQuickBrandUpdated}})],1)]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("brand_id")}],attrs:{multiple:!1,options:t.dropdowns.brands,placeholder:""},on:{select:t.handleBrandSelect},model:{value:t.manufacturer_brand.brand_id,callback:function(e){t.$set(t.manufacturer_brand,"brand_id",e)},expression:"manufacturer_brand.brand_id"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("brand_id")))])],1)]),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"pull-left"},[a("label",{staticClass:"d-block",attrs:{for:"brand"}},[t._v(t._s(t.$t("input.models"))+" *")])]),a("span",{staticClass:"pull-right"},[a("quick-model-form",{attrs:{"allow-create":t.manufacturer_brand.brand_id?1:0,"depend-brand-id":t.manufacturer_brand.brand_id,"after-create":t.handleAfterQuickModelCreated}})],1)]),a("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("models")}],attrs:{multiple:!0,options:t._.filter(t.dropdowns.models,(function(e){return e.brand_id===t.manufacturer_brand.brand_id})),placeholder:""},model:{value:t.manufacturer_brand.models,callback:function(e){t.$set(t.manufacturer_brand,"models",e)},expression:"manufacturer_brand.models"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("models")))])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateManufacturerBrandClick()}}},[t._v(" "+t._s(t.$t("button.assignBrand"))+" ")])],1)]),a("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"d-block"},[a("pre",[t._v(" ")])]),a("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetManufacturerBrand()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table table-bordered bg-white"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("#")]),a("th",[t._v(t._s(t.$t("column.brand")))]),a("th",[t._v(t._s(t.$t("column.models")))]),a("th",[t._v(t._s(t.$t("column.action")))])])]),a("tbody",t._l(t.manufacturer_brands,(function(e,r){return a("tr",{class:[{"table-primary":e.token===t.manufacturer_brand.token}]},[a("td",[t._v(t._s(r+1))]),a("td",[t._v(t._s([t._.find(t.dropdowns.brands,{id:e.brand_id})].map((function(t){return t.label})).join(", ")))]),a("td",[a("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getModelsLabel(e))+" ")])]),a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(a){return t.handleEditManufacturerBrandClick(e.token)}}},[a("i",{staticClass:"fe fe-edit"})]),a("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(a){return t.handleDeleteManufacturerBrandClick(e.token)}}},[a("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[a("i",{staticClass:"fe fe-trash"})])])],1)])})),0),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.manufacturer_brands.length<=0,expression:"manufacturer_brands.length <= 0"}]},[a("tr",[a("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1)],1)],1),a("div",{staticClass:"drawer-footer"},[a("b-row",[a("b-col",{staticClass:"text-left",attrs:{md:"6",lg:"6",sm:"12"}},[a("b-form-group",{staticClass:"mb-0"},[a("b-form-checkbox",{attrs:{size:"lg",name:"check-button"},model:{value:t.formFields.is_active,callback:function(e){t.$set(t.formFields,"is_active",e)},expression:"formFields.is_active"}},[t._v(t._s(t.$t("input.is_active")))])],1)],1),a("b-col",{attrs:{md:"6",lg:"6",sm:"12"}},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?a("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),a("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[a("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)],1)],1)],1)],1)])],1),a("div",{staticClass:"filter-container"},[a("a-drawer",{attrs:{placement:"left",width:"360px",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:!t.operation&&t.filters.visible,zIndex:10,title:t.$t("title.advanceFilters")},on:{close:function(e){t.filters.visible=!t.filters.visible}}},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.loadList(t.listQueryParams,!0)}}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.fromAddedDate"),"label-for":"fromDate"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"fromDate"},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}})],1)],1),a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.toAddedDate"),"label-for":"toDate"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"toDate"},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1)],1)],1),a("div",{staticClass:"drawer-footer"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"info",title:t.$t("button.title.closePanel")},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[t._v(" "+t._s(t.$t("button.close"))+" ")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"warning",title:t.$t("button.title.resetFilter")},on:{click:t.handleResetFilterClick}},[t._v(" "+t._s(t.$t("button.reset"))+" ")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"primary",button:"submit",type:"filled",title:t.$t("button.title.filterRecords")}},[t._v(" "+t._s(t.$t("button.apply"))+" ")])],1)],1)])],1)])])]):t._e()},i=[],n=a("a34a"),o=a.n(n),s=a("df8a"),l=a("dc1c"),c=a("2f62"),d=a("fa33"),u=a("e1b6"),f=a("17e8"),m=a("4c3c"),b=a("ca17"),p=a.n(b);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){g(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function g(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var w={token:null,id:null,contact_id:null,locations:[],error:!1},C={data:function(){return{manufacturer_contact:v({},w),manufacturer_contacts:[],dropdowns:{locations:[]}}},methods:{handleAddUpdateManufacturerContactClick:function(){this.manufacturer_contact.error=!1,this.formErrors=new l["a"]({});var t={};if(this.manufacturer_contact.contact_id||(this.manufacturer_contact.error=!0,t.contact_id=[this.$t("validation.required")]),_.find(this.manufacturer_contacts,{contact_id:this.manufacturer_contact.contact_id,locations:this.manufacturer_contact.locations})&&(t.contact_id=[this.$t("validation.duplicate")],this.manufacturer_contact.error=!0),this.formErrors=new l["a"](t),this.manufacturer_contact.error)return!1;var e=this.manufacturer_contact,a=-1;e.token&&(a=_.findIndex(this.manufacturer_contacts,{token:e.token})),void 0!==this.manufacturer_contacts[a]?this.manufacturer_contacts[a]=e:(e.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.manufacturer_contacts.push(e)),this.manufacturer_contact=v(v({},w),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteManufacturerContactClick:function(t){var e=_.findIndex(this.manufacturer_contacts,{token:t});void 0!==this.manufacturer_contacts[e]&&(this.manufacturer_contacts.splice(e,1),this.resetManufacturerContact())},handleEditManufacturerContactClick:function(t){var e=_.findIndex(this.manufacturer_contacts,{token:t});void 0!==this.manufacturer_contacts[e]&&(this.manufacturer_contact=v({},this.manufacturer_contacts[e]))},getLocationsLabel:function(t){var e=this;return t.locations.map((function(t){var a=_.find(e.dropdowns.locations,{id:t});return{id:t,label:a&&a.label?a.label:"Unknown Location"}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n")},resetManufacturerContact:function(){this.manufacturer_contact=v({},w)}}},k=a("2ef0"),y=a.n(k);function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){O(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function O(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var j={token:null,id:null,brand_id:null,models:[],error:!1},E={data:function(){return{manufacturer_brand:x({},j),manufacturer_brands:[],dropdowns:{brands:[],models:[]}}},methods:{handleAddUpdateManufacturerBrandClick:function(){var t=this;this.manufacturer_brand.error=!1,this.formErrors=new l["a"]({});var e={};if(this.manufacturer_brand.brand_id||(this.manufacturer_brand.error=!0,e.brand_id=[this.$t("validation.required")]),this.manufacturer_brand.models.length<=0&&(e.models=[this.$t("validation.required")],this.manufacturer_brand.error=!0),_.map(this.manufacturer_brands,(function(a){if(a.token!==t.manufacturer_brand.token&&a.brand_id===t.manufacturer_brand.brand_id&&a.models.some((function(e){return-1!==t.manufacturer_brand.models.indexOf(e)})))return e.brand_id=[t.$t("validation.duplicate")],t.manufacturer_brand.error=!0,t.formErrors=new l["a"](e),!1})),this.formErrors=new l["a"](e),this.manufacturer_brand.error)return!1;var a=this.manufacturer_brand,r=-1;a.token&&(r=_.findIndex(this.manufacturer_brands,{token:a.token})),void 0!==this.manufacturer_brands[r]?this.manufacturer_brands[r]=a:(a.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.manufacturer_brands.push(a)),this.manufacturer_brand=x(x({},j),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteManufacturerBrandClick:function(t){var e=_.findIndex(this.manufacturer_brands,{token:t});void 0!==this.manufacturer_brands[e]&&(this.manufacturer_brands.splice(e,1),this.resetManufacturerBrand())},handleEditManufacturerBrandClick:function(t){var e=_.findIndex(this.manufacturer_brands,{token:t});void 0!==this.manufacturer_brands[e]&&(this.manufacturer_brand=x({},this.manufacturer_brands[e]))},getModelsLabel:function(t){var e=this;return t.models.map((function(t){var a=_.find(e.dropdowns.models,{id:t});return{id:t,label:a&&a.label?a.label:"Unknown Model"}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n")},resetManufacturerBrand:function(){this.manufacturer_brand=x({},j)},handleBrandSelect:function(){this.manufacturer_brand.models=[]}}},F=a("e0dc"),M=a("9179"),P=a("7de2"),A=a("d919"),D=a("1826");function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(Object(a),!0).forEach((function(e){I(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var S={token:null,id:null,location_id:null,location_type_id:null,supplier_id:null,suppliers:[],brands:[],models:[],error:!1},q={data:function(){return{manufacturer_location:N({},S),manufacturer_locations:[],dropdowns:{suppliers:[],brands:[],models:[],location_types:[]}}},methods:{validateManufacturerLocation:function(){this.formErrors=new l["a"]({});var t={};this.manufacturer_location.location_id||(this.manufacturer_location.error=!0,t.location_id=[this.$t("validation.required")]),this.manufacturer_location.supplier_id||(this.manufacturer_location.error=!0,t.supplier_id=[this.$t("validation.required")]),this.manufacturer_location.suppliers.length<=0&&(t.suppliers=[this.$t("validation.required")],this.manufacturer_location.error=!0),this.manufacturer_location.location_type_id||(t.location_type_id=[this.$t("validation.required")],this.manufacturer_location.error=!0),this.manufacturer_location.brands.length<=0&&(t.brands=[this.$t("validation.required")],this.manufacturer_location.error=!0),this.manufacturer_location.models.length<=0&&(t.models=[this.$t("validation.required")],this.manufacturer_location.error=!0),this.formErrors=new l["a"](t)},handleAddUpdateManufacturerLocationClick:function(){if(this.manufacturer_location.error=!1,this.validateManufacturerLocation(),this.manufacturer_location.error)return!1;var t=this.manufacturer_location,e=-1;t.token&&(e=_.findIndex(this.manufacturer_locations,{token:t.token})),void 0!==this.manufacturer_locations[e]?this.manufacturer_locations[e]=t:(t.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.manufacturer_locations.push(t)),this.manufacturer_location=N(N({},S),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteManufacturerLocationClick:function(t){var e=_.findIndex(this.manufacturer_locations,{token:t});void 0!==this.manufacturer_locations[e]&&(this.manufacturer_locations.splice(e,1),this.resetManufacturerLocation())},handleEditManufacturerLocationClick:function(t){var e=_.findIndex(this.manufacturer_locations,{token:t});void 0!==this.manufacturer_locations[e]&&(this.manufacturer_location=N({},this.manufacturer_locations[e]))},resetManufacturerLocation:function(){this.manufacturer_location=N({},S)}}};function B(t){return Q(t)||U(t)||z(t)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(t,e){if(t){if("string"===typeof t)return Y(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Y(t,e):void 0}}function U(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Q(t){if(Array.isArray(t))return Y(t)}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function R(t,e,a,r,i,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function X(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function o(t){R(n,r,i,o,s,"next",t)}function s(t){R(n,r,i,o,s,"throw",t)}o(void 0)}))}}function J(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function K(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?J(Object(a),!0).forEach((function(e){G(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function G(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var H={is_active:!0,first_name:null,last_name:null,main_location_id:null,phone:null,email:null,fax:null,comment:null,manufacturer_locations:[],manufacturer_contacts:[],manufacturer_brands:[],_method:"post"},V={visible:!1,from_date:null,to_date:null},W=function(t){return[{label:"#",key:"id",sortable:!0,sortKey:"id"},{label:t.$t("column.name"),key:"name",sortable:!0,sortKey:"name"},{label:t.$t("column.phone"),key:"phone",sortable:!0,sortKey:"phone"},{label:t.$t("column.email"),key:"email",sortable:!0,sortKey:"email"},{label:t.$t("column.fax"),key:"fax",sortable:!0,sortKey:"fax"},t.$global.hasAnyPermission(["manufacturersupdate","manufacturersdestroy"])?{label:t.$t("column.action"),class:"text-right",key:"action",width:150}:{}]},Z={mixins:[s["a"],C,E,q],components:{Datepicker:d["a"],Treeselect:p.a,QuickContactForm:F["a"],QuickLocationForm:M["a"],QuickLocationTypeForm:P["a"],QuickBrandForm:A["a"],QuickModelForm:D["a"]},data:function(){return{operationTitle:"title.manufacturers",formFields:K({},H),filters:K({},V),listUrl:"manufacturers",columns:W(this),dropdowns:{locations:[],location_types:[],contacts:[],brands:[],models:[],suppliers:[]},show:!0}},mounted:function(){this.getLocations(),this.getLocationTypes(),this.getContacts(),this.getBrands(),this.getModels(),this.getSuppliers(),this.$route.query&&"edit"==this.$route.query.operation&&this.$route.query.oToken&&this.handleEditClick(this.$route.query.oToken),this.$route.query&&"detail"==this.$route.query.operation&&this.$route.query.oToken&&this.handleDetailClick(this.$route.query.oToken)},methods:{setOperation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.operationTitle="title."+t+"Manufacturer",this.resetManufacturerContact(),this.resetManufacturerBrand(),this.resetManufacturerLocation(),this.$router.replace({query:Object.assign({},this.$route.query,K(K({},this.listQueryParams),{},{operation:t,oToken:e}))}).then((function(){})).catch((function(){}))},handleSubmit:function(){var t=this;return X(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(u["b"])({url:t.formFields.id?"manufacturers/update":"manufacturers/create",method:"post",data:K(K({},t.formFields),{},{manufacturer_contacts:t.manufacturer_contacts,manufacturer_brands:t.manufacturer_brands,manufacturer_locations:t.manufacturer_locations})});case 4:e.sent,t.formFields.id?Object(f["h"])(t.$notification):Object(f["c"])(t.$notification),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(m["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleDeleteClick:function(t){var e=this;return X(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(u["b"])({method:"post",url:"/manufacturers/delete",data:{id:t}});case 3:a.sent,e.loadList(e.listQueryParams),Object(f["f"])(e.$notification),a.next=14;break;case 8:if(a.prev=8,a.t0=a["catch"](0),!a.t0.request||!a.t0.request.status||422!==a.t0.request.status){a.next=13;break}return Object(f["e"])(e.$notification),a.abrupt("return",!1);case 13:Object(f["d"])(e.$notification);case 14:case"end":return a.stop()}}),a,null,[[0,8]])})))()},handleDetailClick:function(t){var e=this;return X(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.handleEditClick(t);case 1:case"end":return a.stop()}}),a)})))()},handleEditClick:function(t){var e=this;return X(o.a.mark((function a(){var r,i,n,s,l,c;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(u["b"])({method:"get",url:"/manufacturers/detail/".concat(t)});case 3:r=a.sent,i=r.data,n=i.manufacturer_contacts,s=i.manufacturer_brands,l=i.main_location,c=i.manufacturer_locations,delete i.locations,delete i.dealers,delete i.manufacturer_contacts,delete i.manufacturer_brands,delete i.main_location,delete i.manufacturer_locations,e.formFields=K(K(K({},e.formFields),i),{},{main_location_id:l?l.id:null,main_location:l,is_active:i.is_active>0}),e.manufacturer_contacts=n.map((function(t){return{id:t.id,token:t.token,contact_id:t.contact.id,locations:t.locations.map((function(t){return t.id}))}})),e.manufacturer_brands=s.map((function(t){return{id:t.id,token:t.token,brand_id:t.brand.id,models:t.models.map((function(t){return t.id}))}})),e.manufacturer_locations=c.map((function(t){return{id:t.id,token:t.token,location_id:t.location.id,location_type_id:t.location_type.id,supplier_id:t.supplier.id,suppliers:t.suppliers.map((function(t){return t.id})),brands:t.brands.map((function(t){return t.id})),models:t.models.map((function(t){return t.id}))}})),a.next=22;break;case 18:a.prev=18,a.t0=a["catch"](0),Object(f["g"])(e.$notification),e.formFields=K({},H);case 22:case"end":return a.stop()}}),a,null,[[0,18]])})))()},getLocations:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/locations",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.locations=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.locations=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getLocationTypes:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/location/types",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.location_types=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.location_types=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getContacts:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/contacts",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.contacts=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.contacts=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getBrands:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/brands",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.brands=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.brands=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getModels:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/models",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.models=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.models=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getSuppliers:function(){var t=this;return X(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/suppliers",method:"post"});case 3:a=e.sent,r=a.data,t.dropdowns.suppliers=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.suppliers=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},handleAfterQuickContactCreated:function(t){var e=t.id,a=t.name;this.dropdowns.contacts.push({id:e,label:a}),this.manufacturer_contact.contact_id=e},handleAfterQuickContactUpdated:function(t){var e=y.a.findIndex(this.dropdowns.contacts,{id:t.id});this.$set(this.dropdowns.contacts[e],"label",t.name)},handleAfterQuickBrandCreated:function(t){var e=t.id,a=t.title;this.dropdowns.brands.push({id:e,label:a}),this.manufacturer_brand.brand_id=e},handleAfterQuickBrandUpdated:function(t){var e=y.a.findIndex(this.dropdowns.brands,{id:t.id});this.$set(this.dropdowns.brands[e],"label",t.title)},handleAfterQuickModelCreated:function(t){var e=[].concat(B(this.dropdowns.models),[{id:t.id,label:t.title,is_active:t.is_active,brand_id:this.manufacturer_brand.brand_id}]);this.$set(this.dropdowns,"models",e),this.manufacturer_brand.models.push(t.id)},handleAfterQuickMainLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.formFields.main_location_id=t.id},handleAfterQuickMainLocationUpdated:function(t){var e=y.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.locations[e],"label","".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country))},handleAfterQuickLocationTypeCreated:function(t){this.dropdowns.location_types.push({id:t.id,label:t.title}),this.manufacturer_location.location_type_id=t.id},handleAfterQuickLocationTypeUpdated:function(t){var e=y.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.location_types[e],"label",t.title)},hasListAccess:function(){return this.$global.hasPermission("manufacturersview")},getExtraParams:function(){return{filters:K(K({},this.filters),{},{from_date:this.filters.from_date?this.$global.dateToUtcDate(this.filters.from_date,"YYYY-MM-DD","YYYY-MM-DD"):"",to_date:this.filters.to_date?this.$global.dateToUtcDate(this.filters.to_date,"YYYY-MM-DD","YYYY-MM-DD"):""})}},handleResetFilterClick:function(){this.filters=K({},V),this.isFilterApplied="reset",this.loadList(this.listQueryParams)},afterCloseOperation:function(){this.formFields=K({},H),this.manufacturer_locations.length=0,this.manufacturer_contacts.length=0,this.manufacturer_brands.length=0}},computed:K(K({},Object(c["c"])(["global","settings"])),{},{brands:{cache:!1,get:function(){var t=this;return this.dropdowns.brands.map((function(e){var a=t.manufacturer_location.models,r=y.a.filter(t.dropdowns.models,(function(t){return y.a.includes(a,t.id)}));return K(K({},e),{},{isDisabled:y.a.findIndex(r,{brand_id:e.id})>=0})}))}},mainLocationDisable:{cache:!1,get:function(){var t=[];return y.a.map(this.manufacturer_contacts,(function(e){e.locations.map((function(e){return t.push(e)}))})),y.a.includes(t,this.formFields.main_location_id)}}})},tt=Z,et=(a("037b"),a("2877")),at=Object(et["a"])(tt,r,i,!1,null,null,null);e["default"]=at.exports},"32be":function(t,e,a){},d919:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[t.$global.hasPermission("brandsstore")&&t.allowCreate>0?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:t.$t("button.title.addItem")},on:{click:t.handleAddBrandClick}},[a("i",{staticClass:"fe fe-plus"})]):t._e(),t.$global.hasPermission("brandsupdate")&&t.hasId&&t.allowUpdate>0?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:t.handleEditBrandClick}},[a("i",{staticClass:"fe fe-edit"})]):t._e(),a("b-modal",{attrs:{size:"lg",title:t.operationTitle,"hide-footer":""},model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[a("div",{staticClass:"brand-operation"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.editLoading,expression:"editLoading"}]},[a("b-skeleton-table",{attrs:{rows:5,columns:2,"table-props":{bordered:!0,striped:!0}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.editLoading,expression:"!editLoading"}]},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:t.$t("input.title")+" *","label-for":"title","invalid-feedback":t.formErrors.first("title")}},[a("b-form-input",{ref:"title",attrs:{id:"title",type:"text",state:!t.formErrors.has("title")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.title,callback:function(e){t.$set(t.formFields,"title",e)},expression:"formFields.title"}})],1)],1)],1)],1),a("div",{staticClass:"quick-modal-footer pt-1"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?a("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),a("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:t.handleOperationClose}},[a("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])],1)],1)])])],1)},i=[],n=a("a34a"),o=a.n(n),s=a("3f08"),l=a("dc1c"),c=a("e1b6"),d=a("4c3c"),u=a("2f62"),f=a("17e8");function m(t,e,a,r,i,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function b(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function o(t){m(n,r,i,o,s,"next",t)}function s(t){m(n,r,i,o,s,"throw",t)}o(void 0)}))}}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={title:null,is_active:!0,_method:"post"},g={props:["allowCreate","allowUpdate","id","afterCreate","afterUpdate","afterCancel"],components:{Fragment:s["a"]},data:function(){return{formErrors:new l["a"]({}),formFields:h({},_),visibility:!1,editLoading:!1,operationTitle:this.$t("title.addBrand")}},methods:{handleSubmit:function(){var t=this;return b(o.a.mark((function e(){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(c["b"])({url:t.formFields.id?"brands/update":"brands/create",method:"post",data:t.formFields});case 4:a=e.sent,t.formFields.id?t.handleAfterBrandUpdate(t.formFields,t.formFields.id):t.handleAfterBrandCreate(a.data),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(d["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleEditClick:function(t){var e=this;return b(o.a.mark((function a(){var r,i;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.editLoading=!0,a.next=4,Object(c["b"])({method:"get",url:"/brands/detail/".concat(t)});case 4:r=a.sent,e.operationTitle=e.$t("title.addBrand"),i=r.data,e.formFields=h(h({},i),{},{is_active:i.is_active>0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),Object(f["g"])(e.$notification),e.formFields=h({},_);case 14:return a.prev=14,e.editLoading=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,10,14,17]])})))()},handleAddBrandClick:function(){this.operationTitle=this.$t("title.addBrand"),this.visibility=!0},handleEditBrandClick:function(){this.operationTitle=this.$t("title.editBrand"),this.visibility=!0,this.handleEditClick(this.id)},handleOperationClose:function(){this.formFields=h({},_),this.visibility=!1,this.handleAfterOperationCancel()},handleAfterOperationCancel:function(){this.afterCancel&&this.afterCancel()},handleAfterBrandCreate:function(t){this.afterCreate&&this.afterCreate(t)},handleAfterBrandUpdate:function(t){this.afterUpdate&&this.afterUpdate(t)}},computed:h(h({},Object(u["c"])(["global","settings"])),{},{hasId:function(){return this.id}})},w=g,C=a("2877"),k=Object(C["a"])(w,r,i,!1,null,null,null);e["a"]=k.exports}}]);
//# sourceMappingURL=chunk-7fcb76f5.0debea6c.js.map