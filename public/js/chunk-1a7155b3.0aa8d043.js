(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a7155b3"],{1826:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fragment",[t.$global.hasPermission("modelsstore")&&t.allowCreate>0?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:t.$t("button.title.addItem")},on:{click:t.handleAddModelClick}},[i("i",{staticClass:"fe fe-plus"})]):t._e(),t.$global.hasPermission("modelsupdate")&&t.hasId&&t.allowUpdate>0?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:t.handleEditModelClick}},[i("i",{staticClass:"fe fe-edit"})]):t._e(),i("b-modal",{attrs:{size:"lg",title:t.operationTitle,"hide-footer":""},model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[i("div",{staticClass:"model-operation"},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.editLoading,expression:"editLoading"}]},[i("b-skeleton-table",{attrs:{rows:5,columns:2,"table-props":{bordered:!0,striped:!0}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.editLoading,expression:"!editLoading"}]},[i("b-row",[i("b-col",{attrs:{sm:"6"}},[i("b-form-group",{attrs:{label:t.$t("input.title")+" *","label-for":"title","invalid-feedback":t.formErrors.first("title")}},[i("b-form-input",{attrs:{id:"title",type:"text",state:!t.formErrors.has("title")&&null},model:{value:t.formFields.title,callback:function(e){t.$set(t.formFields,"title",e)},expression:"formFields.title"}})],1)],1),i("b-col",{attrs:{sm:"6"}},[i("b-form-group",{attrs:{label:t.$t("input.type")+" *","label-for":"type","invalid-feedback":t.formErrors.first("type")}},[i("b-form-input",{attrs:{id:"type",type:"text",state:!t.formErrors.has("type")&&null},model:{value:t.formFields.type,callback:function(e){t.$set(t.formFields,"type",e)},expression:"formFields.type"}})],1)],1),i("b-col",{attrs:{sm:"4"}},[i("b-form-group",{attrs:{label:t.$t("input.length")+" *","label-for":"length","invalid-feedback":t.formErrors.first("length")}},[i("b-form-input",{attrs:{id:"length",step:".01",type:"number",state:!t.formErrors.has("length")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.length,callback:function(e){t.$set(t.formFields,"length",e)},expression:"formFields.length"}})],1)],1),i("b-col",{attrs:{sm:"4"}},[i("b-form-group",{attrs:{label:t.$t("input.width")+" *","label-for":"width","invalid-feedback":t.formErrors.first("width")}},[i("b-form-input",{attrs:{id:"width",step:".01",type:"number",state:!t.formErrors.has("width")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.width,callback:function(e){t.$set(t.formFields,"width",e)},expression:"formFields.width"}})],1)],1),i("b-col",{attrs:{sm:"4"}},[i("b-form-group",{attrs:{label:t.$t("input.height")+" *","label-for":"height","invalid-feedback":t.formErrors.first("height")}},[i("b-form-input",{attrs:{id:"height",type:"number",step:".01",state:!t.formErrors.has("height")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.height,callback:function(e){t.$set(t.formFields,"height",e)},expression:"formFields.height"}})],1)],1),i("b-col",{attrs:{sm:"6"}},[i("b-form-group",{attrs:{label:t.$t("input.deliveryFactors")+" *","label-for":"delivery_factors","invalid-feedback":t.formErrors.first("delivery_factors")}},[i("b-form-input",{attrs:{id:"delivery_factors",type:"number",state:!t.formErrors.has("delivery_factors")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.delivery_factors,callback:function(e){t.$set(t.formFields,"delivery_factors",e)},expression:"formFields.delivery_factors"}})],1)],1)],1)],1),i("div",{staticClass:"quick-modal-footer pt-1"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?i("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),i("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:t.handleOperationClose}},[i("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])],1)],1)])])],1)},n=[],o=i("a34a"),r=i.n(o),s=i("3f08"),l=i("dc1c"),c=i("e1b6"),d=i("4c3c"),u=i("2f62"),f=i("17e8");function b(t,e,i,a,n,o,r){try{var s=t[o](r),l=s.value}catch(c){return void i(c)}s.done?e(l):Promise.resolve(l).then(a,n)}function m(t){return function(){var e=this,i=arguments;return new Promise((function(a,n){var o=t.apply(e,i);function r(t){b(o,a,n,r,s,"next",t)}function s(t){b(o,a,n,r,s,"throw",t)}r(void 0)}))}}function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _={title:null,brand_id:null,type:null,length:null,width:null,height:null,delivery_factors:null,is_active:!0,_method:"post"},w={props:["allowCreate","allowUpdate","id","afterCreate","afterUpdate","afterCancel","dependBrandId"],components:{Fragment:s["a"]},data:function(){return{formErrors:new l["a"]({}),formFields:h({},_),visibility:!1,editLoading:!1,operationTitle:this.$t("title.addModel")}},methods:{handleSubmit:function(){var t=this;return m(r.a.mark((function e(){var i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(c["b"])({url:t.formFields.id?"models/update":"models/create",method:"post",data:t.formFields});case 4:i=e.sent,t.formFields.id?t.handleAfterModelUpdate(t.formFields,t.formFields.id):t.handleAfterModelCreate(i.data),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(d["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleEditClick:function(t){var e=this;return m(r.a.mark((function i(){var a,n,o;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e.editLoading=!0,i.next=4,Object(c["b"])({method:"get",url:"/models/detail/".concat(t)});case 4:a=i.sent,e.operationTitle=e.$t("title.addModel"),n=a.data,o=n.brand,delete n.brand,e.formFields=h(h({},n),{},{is_active:n.is_active>0,brand_id:o?o.id:null}),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](0),Object(f["g"])(e.$notification),e.formFields=h({},_);case 16:return i.prev=16,e.editLoading=!1,i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[0,12,16,19]])})))()},handleAddModelClick:function(){this.operationTitle=this.$t("title.addModel"),this.visibility=!0},handleEditModelClick:function(){this.operationTitle=this.$t("title.editModel"),this.visibility=!0,this.handleEditClick(this.id)},handleOperationClose:function(){this.formFields=h({},_),this.visibility=!1,this.handleAfterOperationCancel()},handleAfterOperationCancel:function(){this.afterCancel&&this.afterCancel()},handleAfterModelCreate:function(t){this.afterCreate&&this.afterCreate(t)},handleAfterModelUpdate:function(t){this.afterUpdate&&this.afterUpdate(t)}},computed:h(h({},Object(u["c"])(["global","settings"])),{},{hasId:function(){return this.id}}),watch:{dependBrandId:{immediate:!0,handler:function(t,e){this.formFields.brand_id=t}}}},g=w,C=i("2877"),k=Object(C["a"])(g,a,n,!1,null,null,null);e["a"]=k.exports},"26e5":function(t,e,i){},"6f96":function(t,e,i){"use strict";i("26e5")},d919:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fragment",[t.$global.hasPermission("brandsstore")&&t.allowCreate>0?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:t.$t("button.title.addItem")},on:{click:t.handleAddBrandClick}},[i("i",{staticClass:"fe fe-plus"})]):t._e(),t.$global.hasPermission("brandsupdate")&&t.hasId&&t.allowUpdate>0?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:t.handleEditBrandClick}},[i("i",{staticClass:"fe fe-edit"})]):t._e(),i("b-modal",{attrs:{size:"lg",title:t.operationTitle,"hide-footer":""},model:{value:t.visibility,callback:function(e){t.visibility=e},expression:"visibility"}},[i("div",{staticClass:"brand-operation"},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.editLoading,expression:"editLoading"}]},[i("b-skeleton-table",{attrs:{rows:5,columns:2,"table-props":{bordered:!0,striped:!0}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.editLoading,expression:"!editLoading"}]},[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.title")+" *","label-for":"title","invalid-feedback":t.formErrors.first("title")}},[i("b-form-input",{ref:"title",attrs:{id:"title",type:"text",state:!t.formErrors.has("title")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.title,callback:function(e){t.$set(t.formFields,"title",e)},expression:"formFields.title"}})],1)],1)],1)],1),i("div",{staticClass:"quick-modal-footer pt-1"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?i("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),i("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:t.handleOperationClose}},[i("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])],1)],1)])])],1)},n=[],o=i("a34a"),r=i.n(o),s=i("3f08"),l=i("dc1c"),c=i("e1b6"),d=i("4c3c"),u=i("2f62"),f=i("17e8");function b(t,e,i,a,n,o,r){try{var s=t[o](r),l=s.value}catch(c){return void i(c)}s.done?e(l):Promise.resolve(l).then(a,n)}function m(t){return function(){var e=this,i=arguments;return new Promise((function(a,n){var o=t.apply(e,i);function r(t){b(o,a,n,r,s,"next",t)}function s(t){b(o,a,n,r,s,"throw",t)}r(void 0)}))}}function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _={title:null,is_active:!0,_method:"post"},w={props:["allowCreate","allowUpdate","id","afterCreate","afterUpdate","afterCancel"],components:{Fragment:s["a"]},data:function(){return{formErrors:new l["a"]({}),formFields:h({},_),visibility:!1,editLoading:!1,operationTitle:this.$t("title.addBrand")}},methods:{handleSubmit:function(){var t=this;return m(r.a.mark((function e(){var i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(c["b"])({url:t.formFields.id?"brands/update":"brands/create",method:"post",data:t.formFields});case 4:i=e.sent,t.formFields.id?t.handleAfterBrandUpdate(t.formFields,t.formFields.id):t.handleAfterBrandCreate(i.data),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(d["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleEditClick:function(t){var e=this;return m(r.a.mark((function i(){var a,n;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e.editLoading=!0,i.next=4,Object(c["b"])({method:"get",url:"/brands/detail/".concat(t)});case 4:a=i.sent,e.operationTitle=e.$t("title.addBrand"),n=a.data,e.formFields=h(h({},n),{},{is_active:n.is_active>0}),i.next=14;break;case 10:i.prev=10,i.t0=i["catch"](0),Object(f["g"])(e.$notification),e.formFields=h({},_);case 14:return i.prev=14,e.editLoading=!1,i.finish(14);case 17:case"end":return i.stop()}}),i,null,[[0,10,14,17]])})))()},handleAddBrandClick:function(){this.operationTitle=this.$t("title.addBrand"),this.visibility=!0},handleEditBrandClick:function(){this.operationTitle=this.$t("title.editBrand"),this.visibility=!0,this.handleEditClick(this.id)},handleOperationClose:function(){this.formFields=h({},_),this.visibility=!1,this.handleAfterOperationCancel()},handleAfterOperationCancel:function(){this.afterCancel&&this.afterCancel()},handleAfterBrandCreate:function(t){this.afterCreate&&this.afterCreate(t)},handleAfterBrandUpdate:function(t){this.afterUpdate&&this.afterUpdate(t)}},computed:h(h({},Object(u["c"])(["global","settings"])),{},{hasId:function(){return this.id}})},g=w,C=i("2877"),k=Object(C["a"])(g,a,n,!1,null,null,null);e["a"]=k.exports},f331:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header card-header-flex pb-2"},[i("div",{staticClass:"w-100 mt-2"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8"},[i("h5",{staticClass:"mt-3 ml-0 mr-3 mb-2"},[i("strong",[null===t.operation?[t._v(t._s(t.$t("title.clients")))]:[t._v(t._s(t.$t(t.operationTitle)))]],2)])]),i("div",{staticClass:"col-4 text-right"},[null===t.operation?i("div",[i("div",{staticClass:"mt-3"},[i("b-input-group",{staticClass:"mt-3"},[i("b-form-input",{staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:t.$t("input.whatAreYouLookingFor")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),i("b-input-group-append",[t.$global.hasPermission("clientsstore")?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",size:"sm",title:t.$t("button.title.addNewItem")},on:{click:function(e){return t.setOperation("add")}}},[i("i",{staticClass:"fe fe-plus"}),t._v(" "+t._s(t.$t("button.addNew"))+" ")]):t._e(),t.$global.hasPermission("clientsview")?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.filterRecords"),variant:"outline-info"},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[i("i",{staticClass:"fa fa-filter"})]):t._e(),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.resetList"),variant:"outline-info"},on:{click:function(e){return t.handleResetClick()}}},[i("i",{staticClass:"fa fa-refresh"})])],1)],1)],1)]):i("div",[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[i("i",{staticClass:"fa fa-arrow-left"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])])])]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"clients-table"},[i("b-table",{ref:"table",attrs:{hover:"",responsive:"",busy:t.listingLoading,items:t.dataSource,fields:t.columns,"sort-by":t.sortField},on:{"update:sortBy":function(e){t.sortField=e},"update:sort-by":function(e){t.sortField=e},"sort-changed":t.handleSortChange},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(is_active)",fn:function(e){return[i("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active>0,expression:"record.item.is_active > 0"}],attrs:{variant:"success"}},[t._v(t._s(t.$t("msc.active"))+" ")]),i("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active<=0,expression:"record.item.is_active <= 0"}]},[t._v(t._s(t.$t("msc.de_active")))])]}},{key:"cell(action)",fn:function(e){return[t.$global.hasPermission("clientsupdate")?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.setOperation("edit",e.item.id)}}},[i("i",{staticClass:"fe fe-edit"})]):t._e(),t.$global.hasPermission("clientsview")?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-1",attrs:{title:t.$t("button.title.itemDetails")},on:{click:function(i){return t.setOperation("detail",e.item.id)}}},[i("i",{staticClass:"fe fe-info"})]):t._e(),t.$global.hasPermission("clientsdestroy")?i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteClick(e.item.id)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])]):t._e()]}}],null,!1,3113146535)}),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"float-right"},[i("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.perPage,"first-text":t.$t("paginations.first"),"prev-text":t.$t("paginations.prev"),"next-text":t.$t("paginations.next"),"last-text":t.$t("paginations.last")},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)])],1),i("div",{staticClass:"clients-operation"},[i("a-drawer",{attrs:{placement:"right",width:"80%",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:null!==t.operation&&"detail"!==t.operation,zIndex:10,title:t.$t(t.operationTitle)},on:{close:t.handleOperationClose}},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("b-row",[i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.companyName")+" *","label-for":"company_name","invalid-feedback":t.formErrors.first("company_name")}},[i("b-form-input",{attrs:{id:"company_name",type:"text",state:!t.formErrors.has("company_name")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.company_name,callback:function(e){t.$set(t.formFields,"company_name",e)},expression:"formFields.company_name"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.phone")+" *","label-for":"phone","invalid-feedback":t.formErrors.first("phone")}},[i("b-form-input",{attrs:{id:"phone",type:"number",pattern:"^[0-9-+()]*",title:"+(XXX) XXX",state:!t.formErrors.has("phone")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.phone,callback:function(e){t.$set(t.formFields,"phone",e)},expression:"formFields.phone"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.email")+" *","label-for":"email","invalid-feedback":t.formErrors.first("email")}},[i("b-form-input",{attrs:{id:"email",type:"text",state:!t.formErrors.has("email")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.email,callback:function(e){t.$set(t.formFields,"email",e)},expression:"formFields.email"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.fax"),"label-for":"fax","invalid-feedback":t.formErrors.first("fax")}},[i("b-form-input",{attrs:{id:"fax",type:"text",state:!t.formErrors.has("fax")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.fax,callback:function(e){t.$set(t.formFields,"fax",e)},expression:"formFields.fax"}})],1)],1),i("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"main_location"}},[t._v(t._s(t.$t("input.mainLocation"))+" ")])]),i("span",{staticClass:"pull-right"},[i("quick-location-form",{attrs:{"allow-update":"1","allow-create":t.mainLocationDisable?0:1,id:t.formFields.main_location_id,"after-create":t.handleAfterQuickMainLocationCreated,"after-update":t.handleAfterQuickMainLocationUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("main_location_id")}],attrs:{disabled:t.mainLocationDisable,multiple:!1,options:t.mainLocations,placeholder:""},model:{value:t.formFields.main_location_id,callback:function(e){t.$set(t.formFields,"main_location_id",e)},expression:"formFields.main_location_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("main_location_id")))])],1)]),i("b-col",{attrs:{lg:"6",md:"6",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.dealers"),"label-for":"client_dealers","invalid-feedback":t.formErrors.first("client_dealers")}},[i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("client_dealers")}],attrs:{multiple:!0,options:t.dropdowns.dealers,placeholder:""},model:{value:t.formFields.client_dealers,callback:function(e){t.$set(t.formFields,"client_dealers",e)},expression:"formFields.client_dealers"}})],1)],1),i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.comment")+" ","label-for":"comment","invalid-feedback":t.formErrors.first("comment")}},[i("b-form-input",{attrs:{id:"comment",state:!t.formErrors.has("comment")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.comment,callback:function(e){t.$set(t.formFields,"comment",e)},expression:"formFields.comment"}})],1)],1)],1),i("b-row",[i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.client-location",modifiers:{"client-location":!0}}],staticClass:"p-0"},[i("h4",{staticClass:"mb-0"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientAdditionalLocations"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_locations.length>0,expression:"client_locations.length > 0"}]},[t._v(" - "+t._s(t.client_locations.length)+" Item/s ")])])]),i("b-collapse",{attrs:{id:"client-location"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.location"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-location-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.client_location.location_id,"after-create":t.handleAfterQuickClientLocationCreated,"after-update":t.handleAfterQuickClientLocationUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("additional_location_id")}],attrs:{multiple:!1,options:t.dropdowns.locations,placeholder:""},model:{value:t.client_location.location_id,callback:function(e){t.$set(t.client_location,"location_id",e)},expression:"client_location.location_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("additional_location_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.locationType"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-location-type-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.client_location.location_type_id,"after-create":t.handleAfterQuickClientLocationTypeCreated,"after-update":t.handleAfterQuickClientLocationTypeUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("location_type_id")}],attrs:{multiple:!1,options:t.dropdowns.location_types,placeholder:""},model:{value:t.client_location.location_type_id,callback:function(e){t.$set(t.client_location,"location_type_id",e)},expression:"client_location.location_type_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("location_type_id")))])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateClientLocationClick()}}},[t._v(" "+t._s(t.$t("button.assignLocation"))+" ")])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetClientLocation()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.location")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locationType")))]),i("th",{attrs:{width:"60"}},[t._v(t._s(t.$t("column.action")))])])]),i("tbody",t._l(t.client_locations,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_location.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[t._v(t._s([t._.find(t.dropdowns.locations,{id:e.location_id})].map((function(t){return t.label})).join(", ")))]),i("td",[t._v(t._s([t._.find(t.dropdowns.location_types,{id:e.location_type_id})].map((function(t){return t.label})).join(", ")))]),i("td",[t._.includes(t.client_contacts.map((function(t){var e=t.locations;return e.map((function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]),e.location_id)&&e.location_id!==t.formFields.main_location_id?t._e():i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.handleEditClientLocationClick(e.token)}}},[i("i",{staticClass:"fe fe-edit"})]),i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteClientLocationClick(e.token)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])])],1)])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_locations.length<=0,expression:"client_locations.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),i("b-col",{staticClass:"mt-3",attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.client-contacts",modifiers:{"client-contacts":!0}}],staticClass:"p-0"},[i("h4",{staticClass:"mb-0"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientContacts"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_contacts.length>0,expression:"client_contacts.length > 0"}]},[t._v(" - "+t._s(t.client_contacts.length)+" Item/s ")])])]),i("b-collapse",{attrs:{id:"client-contacts"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"contact"}},[t._v(t._s(t.$t("input.contact"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-contact-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.client_contact.contact_id,"after-create":t.handleAfterQuickContactCreated,"after-update":t.handleAfterQuickContactUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("contact_id")}],attrs:{multiple:!1,options:t.dropdowns.contacts,placeholder:""},model:{value:t.client_contact.contact_id,callback:function(e){t.$set(t.client_contact,"contact_id",e)},expression:"client_contact.contact_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("contact_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.locations"))+" ")])])]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("locations")}],attrs:{multiple:!0,options:t.dropdowns.locations.filter((function(e){return t._.includes(t.client_locations.map((function(t){return t.location_id})),e.id)||t.formFields.main_location_id===e.id})),placeholder:""},model:{value:t.client_contact.locations,callback:function(e){t.$set(t.client_contact,"locations",e)},expression:"client_contact.locations"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("locations")))])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateClientContactClick()}}},[t._v(" "+t._s(t.$t("button.assignContact"))+" ")])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetClientContact()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.contact")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locations")))]),i("th",{attrs:{width:"60"}},[t._v(t._s(t.$t("column.action")))])])]),i("tbody",t._l(t.client_contacts,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_contact.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[i("div",[i("strong",[t._v(t._s(t.$t("column.contact"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.label})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.function"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.function})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.phone"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.phone})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.email"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.email})).join(", ")))])]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getLocationsLabel(e,t.formFields.client_locations[0]))+" ")])]),i("td",[i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.handleEditClientContactClick(e.token)}}},[i("i",{staticClass:"fe fe-edit"})]),i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteClientContactClick(e.token)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])])],1)])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_contacts.length<=0,expression:"client_contacts.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),i("b-col",{staticClass:"mt-3 mb-5",attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.client-brands",modifiers:{"client-brands":!0}}],staticClass:"p-0"},[i("h4",{staticClass:"mb-0"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientBrands"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_brands.length>0,expression:"client_brands.length > 0"}]},[t._v(" - "+t._s(t.client_brands.length)+" Item/s ")])])]),i("b-collapse",{attrs:{id:"client-brands"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"brand"}},[t._v(t._s(t.$t("input.brand"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-brand-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.client_brand.brand_id,"after-create":t.handleAfterQuickBrandCreated,"after-update":t.handleAfterQuickBrandUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("brand_id")}],attrs:{multiple:!1,options:t.dropdowns.brands,placeholder:""},on:{select:t.handleBrandSelect},model:{value:t.client_brand.brand_id,callback:function(e){t.$set(t.client_brand,"brand_id",e)},expression:"client_brand.brand_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("brand_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"brand"}},[t._v(t._s(t.$t("input.models"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-model-form",{attrs:{"allow-create":t.client_brand.brand_id?1:0,"depend-brand-id":t.client_brand.brand_id,"after-create":t.handleAfterQuickModelCreated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("models")}],attrs:{multiple:!0,options:t._.filter(t.dropdowns.models,(function(e){return e.brand_id===t.client_brand.brand_id})),placeholder:""},model:{value:t.client_brand.models,callback:function(e){t.$set(t.client_brand,"models",e)},expression:"client_brand.models"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("models")))])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateClientBrandClick()}}},[t._v(" "+t._s(t.$t("button.assignBrand"))+" ")])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetClientBrand()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",[t._v(t._s(t.$t("column.brand")))]),i("th",[t._v(t._s(t.$t("column.models")))]),i("th",[t._v(t._s(t.$t("column.action")))])])]),i("tbody",t._l(t.client_brands,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_brand.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[t._v(t._s([t._.find(t.dropdowns.brands,{id:e.brand_id})].map((function(t){return t.label})).join(", ")))]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getModelsLabel(e))+" ")])]),i("td",[i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.handleEditClientBrandClick(e.token)}}},[i("i",{staticClass:"fe fe-edit"})]),i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteClientBrandClick(e.token)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])])],1)])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_brands.length<=0,expression:"client_brands.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1)],1)],1),i("div",{staticClass:"drawer-footer"},[i("b-row",[i("b-col",{staticClass:"text-left",attrs:{md:"6",lg:"6",sm:"12"}},[i("b-form-group",{staticClass:"mb-0"},[i("b-form-checkbox",{attrs:{size:"lg",name:"check-button"},model:{value:t.formFields.is_active,callback:function(e){t.$set(t.formFields,"is_active",e)},expression:"formFields.is_active"}},[t._v(t._s(t.$t("input.is_active")))])],1)],1),i("b-col",{attrs:{md:"6",lg:"6",sm:"12"}},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?i("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),i("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[i("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)],1)],1)],1)],1)])],1),i("div",{staticClass:"clients-detail-operation"},[i("a-drawer",{attrs:{placement:"right",width:"80%",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:null!==t.operation&&"detail"===t.operation,zIndex:10,title:t.$t(t.operationTitle)},on:{close:t.handleOperationClose}},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("b-row",[i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{staticClass:"p-0"},[i("h4",{staticClass:"mb-1"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.generalInformation"))+" ")])])]),i("b-card-text",{attrs:{id:"general-information"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.companyName")))]),i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.phone")))]),i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.email")))]),i("th",[t._v(t._s(t.$t("column.fax")))])])]),i("tbody",[i("tr",[i("td",[t._v(t._s(t.formFields.company_name))]),i("td",[t._v(t._s(t.formFields.phone))]),i("td",[t._v(t._s(t.formFields.email))]),i("td",[t._v(t._s(t.formFields.fax))])])])]),i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.mainLocation")))]),i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.dealers")))]),i("th",{attrs:{width:"400"}},[t._v(t._s(t.$t("column.comment")))]),i("th",[t._v(t._s(t.$t("column.is_active")))])])]),i("tbody",[i("tr",[i("td",[t._v(t._s(t.formFields.main_location_name))]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getDealersLabel(t.client_dealers))+" ")])]),i("td",[t._v(t._s(t.formFields.comment))]),i("td",{directives:[{name:"show",rawName:"v-show",value:t.formFields.is_active>0,expression:"formFields.is_active > 0"}]},[t._v(t._s(t.$t("msc.yes")))]),i("td",{directives:[{name:"show",rawName:"v-show",value:t.formFields.is_active<=0,expression:"formFields.is_active <= 0"}]},[t._v(t._s(t.$t("msc.no")))])])])])])],1)],1)])],1)],1)],1),i("b-row",[i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{staticClass:"p-0"},[i("h4",{staticClass:"mb-1"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientAdditionalLocations"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_locations.length>0,expression:"client_locations.length > 0"}]},[t._v(" - "+t._s(t.client_locations.length)+" Item/s ")])])]),i("b-card-text",{attrs:{id:"client-locations-details"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.location")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locationType")))])])]),i("tbody",t._l(t.client_locations,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_location.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[t._v(t._s([t._.find(t.dropdowns.locations,{id:e.location_id})].map((function(t){return t.label})).join(", ")))]),i("td",[t._v(t._s([t._.find(t.dropdowns.location_types,{id:e.location_type_id})].map((function(t){return t.label})).join(", ")))])])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_locations.length<=0,expression:"client_locations.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"3"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),i("b-col",{staticClass:"mt-3",attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{staticClass:"p-0"},[i("h4",{staticClass:"mb-1"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientContacts"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_contacts.length>0,expression:"client_contacts.length > 0"}]},[t._v(" - "+t._s(t.client_contacts.length)+" Item/s ")])])]),i("b-card-text",{attrs:{id:"client-contacts-details"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.contact")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locations")))])])]),i("tbody",t._l(t.client_contacts,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_contact.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[i("div",[i("strong",[t._v(t._s(t.$t("column.contact"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.label})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.function"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.function})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.phone"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.phone})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.email"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.email})).join(", ")))])]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getLocationsLabel(e,t.formFields.client_locations[0]))+" ")])])])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_contacts.length<=0,expression:"client_contacts.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"3"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),i("b-col",{staticClass:"mt-3 mb-5",attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{staticClass:"p-0"},[i("h4",{staticClass:"mb-1"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.clientBrands"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.client_brands.length>0,expression:"client_brands.length > 0"}]},[t._v(" - "+t._s(t.client_brands.length)+" Item/s ")])])]),i("b-card-text",{attrs:{id:"client-brands-details"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",[t._v(t._s(t.$t("column.brand")))]),i("th",[t._v(t._s(t.$t("column.models")))])])]),i("tbody",t._l(t.client_brands,(function(e,a){return i("tr",{class:[{"table-primary":e.token===t.client_brand.token}]},[i("td",[t._v(t._s(a+1))]),i("td",[t._v(t._s([t._.find(t.dropdowns.brands,{id:e.brand_id})].map((function(t){return t.label})).join(", ")))]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getModelsLabel(e))+" ")])])])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.client_brands.length<=0,expression:"client_brands.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"3"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1)],1)],1),i("div",{staticClass:"drawer-footer"},[i("b-row",[i("b-col",{staticClass:"text-left",attrs:{md:"6",lg:"6",sm:"12"}}),i("b-col",{attrs:{md:"6",lg:"6",sm:"12"}},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[i("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)],1)],1)],1)],1)],1),i("div",{staticClass:"filter-container"},[i("a-drawer",{attrs:{placement:"left",width:"360px",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:!t.operation&&t.filters.visible,zIndex:10,title:t.$t("title.advanceFilters")},on:{close:function(e){t.filters.visible=!t.filters.visible}}},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.loadList(t.listQueryParams,!0)}}},[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.fromAddedDate"),"label-for":"fromDate"}},[i("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"fromDate"},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}})],1)],1),i("b-col",{attrs:{sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.toAddedDate"),"label-for":"toDate"}},[i("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"toDate"},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1)],1)],1),i("div",{staticClass:"drawer-footer"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"info",title:t.$t("button.title.closePanel")},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[t._v(" "+t._s(t.$t("button.close"))+" ")]),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"warning",title:t.$t("button.title.resetFilter")},on:{click:t.handleResetFilterClick}},[t._v(" "+t._s(t.$t("button.reset"))+" ")]),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"primary",button:"submit",type:"filled",title:t.$t("button.title.filterRecords")}},[t._v(" "+t._s(t.$t("button.apply"))+" ")])],1)],1)])],1)])])]):t._e()},n=[],o=i("a34a"),r=i.n(o),s=i("df8a"),l=i("dc1c"),c=i("2f62"),d=i("fa33"),u=i("e1b6"),f=i("17e8"),b=i("4c3c"),m=i("ca17"),p=i.n(m);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){w(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function w(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g={token:null,id:null,contact_id:null,locations:[],error:!1},C={data:function(){return{client_contact:v({},g),client_contacts:[],dropdowns:{locations:[]}}},methods:{handleAddUpdateClientContactClick:function(){var t=this;this.client_contact.error=!1,this.formErrors=new l["a"]({});var e={};if(this.client_contact.contact_id||(this.client_contact.error=!0,e.contact_id=[this.$t("validation.required")]),_.map(this.client_contacts,(function(i){if(i.token!==t.client_contact.token&&i.contact_id===t.client_contact.contact_id&&i.locations.some((function(e){return-1!==t.client_contact.locations.indexOf(e)})))return e.contact_id=[t.$t("validation.duplicate")],t.client_contact.error=!0,t.formErrors=new l["a"](e),!1})),this.formErrors=new l["a"](e),this.client_contact.error)return!1;var i=this.client_contact,a=-1;i.token&&(a=_.findIndex(this.client_contacts,{token:i.token})),void 0!==this.client_contacts[a]?this.client_contacts[a]=i:(i.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.client_contacts.push(i)),this.client_contact=v(v({},g),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteClientContactClick:function(t){var e=_.findIndex(this.client_contacts,{token:t});void 0!==this.client_contacts[e]&&this.client_contacts.splice(e,1)},handleEditClientContactClick:function(t){var e=_.findIndex(this.client_contacts,{token:t});void 0!==this.client_contacts[e]&&(this.client_contact=v({},this.client_contacts[e]))},getLocationsLabel:function(t,e){var i=this;return t.locations.length>0?t.locations.map((function(t){var e=_.find(i.dropdowns.locations,{id:t});return{id:t,label:e&&e.label?e.label:"Unknown Location"}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n"):e?(t.locations.push(e),this.client_contact.locations=[],[_.find(this.dropdowns.locations,{id:e})].map((function(t){return t.label})).join(", ")):void 0},resetClientContact:function(){this.client_contact=v({},g)}}},k=i("2ef0"),y=i.n(k);function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){O(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function O(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var j={token:null,id:null,brand_id:null,models:[],error:!1},F={data:function(){return{client_brand:x({},j),client_brands:[],dropdowns:{brands:[],models:[]}}},methods:{handleAddUpdateClientBrandClick:function(){var t=this;this.client_brand.error=!1,this.formErrors=new l["a"]({});var e={};if(this.client_brand.brand_id||(this.client_brand.error=!0,e.brand_id=[this.$t("validation.required")]),this.client_brand.models.length<=0&&(e.models=[this.$t("validation.required")],this.client_brand.error=!0),_.map(this.client_brands,(function(i){if(i.token!==t.client_brand.token&&i.brand_id===t.client_brand.brand_id&&i.models.some((function(e){return-1!==t.client_brand.models.indexOf(e)})))return e.brand_id=[t.$t("validation.duplicate")],t.client_brand.error=!0,t.formErrors=new l["a"](e),!1})),this.formErrors=new l["a"](e),this.client_brand.error)return!1;var i=this.client_brand,a=-1;i.token&&(a=_.findIndex(this.client_brands,{token:i.token})),void 0!==this.client_brands[a]?this.client_brands[a]=i:(i.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.client_brands.push(i)),this.client_brand=x(x({},j),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteClientBrandClick:function(t){var e=_.findIndex(this.client_brands,{token:t});void 0!==this.client_brands[e]&&this.client_brands.splice(e,1)},handleEditClientBrandClick:function(t){var e=_.findIndex(this.client_brands,{token:t});void 0!==this.client_brands[e]&&(this.client_brand=x({},this.client_brands[e]))},getModelsLabel:function(t){var e=this;return t.models.map((function(t){var i=_.find(e.dropdowns.models,{id:t});return{id:t,label:i&&i.label?i.label:"Unknown Model"}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n")},resetClientBrand:function(){this.client_brand=x({},j)},handleBrandSelect:function(){this.client_brand.models=[]}}},E=i("e0dc"),P=i("9179"),A=i("7de2"),L=i("d919"),D=i("1826");function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach((function(e){I(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var M={token:null,id:null,location_id:null,location_type_id:null,error:!1},q={data:function(){return{client_location:S({},M),client_locations:[],dropdowns:{locations:[],location_types:[]}}},methods:{handleAddUpdateClientLocationClick:function(){var t=this;this.client_location.error=!1,this.formErrors=new l["a"]({});var e={};if(this.client_location.location_id||(this.client_location.error=!0,e.additional_location_id=[this.$t("validation.required")]),this.client_location.location_type_id||(this.client_location.error=!0,e.location_type_id=[this.$t("validation.required")]),_.map(this.client_locations,(function(i){if(i.token!==t.client_location.token&&i.location_id===t.client_location.location_id&&i.location_type_id===t.client_location.location_type_id)return e.additional_location_id=[t.$t("validation.duplicate")],t.client_location.error=!0,t.formErrors=new l["a"](e),!1})),this.formErrors=new l["a"](e),this.client_location.error)return!1;var i=this.client_location,a=-1;i.token&&(a=_.findIndex(this.client_locations,{token:i.token})),void 0!==this.client_locations[a]?this.client_locations[a]=i:(i.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.client_locations.push(i)),this.client_location=S(S({},M),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteClientLocationClick:function(t){var e=_.findIndex(this.client_locations,{token:t});void 0!==this.client_locations[e]&&this.client_locations.splice(e,1)},handleEditClientLocationClick:function(t){var e=_.findIndex(this.client_locations,{token:t});void 0!==this.client_locations[e]&&(this.client_location=S({},this.client_locations[e]))},resetClientLocation:function(){this.client_location=S({},M)}}};function B(t){return Q(t)||z(t)||U(t)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t,e){if(t){if("string"===typeof t)return Y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y(t,e):void 0}}function z(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Q(t){if(Array.isArray(t))return Y(t)}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function R(t,e,i,a,n,o,r){try{var s=t[o](r),l=s.value}catch(c){return void i(c)}s.done?e(l):Promise.resolve(l).then(a,n)}function X(t){return function(){var e=this,i=arguments;return new Promise((function(a,n){var o=t.apply(e,i);function r(t){R(o,a,n,r,s,"next",t)}function s(t){R(o,a,n,r,s,"throw",t)}r(void 0)}))}}function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function K(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach((function(e){G(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function G(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var H={is_active:!0,company_name:null,main_location_id:null,phone:null,email:null,fax:null,comment:null,client_dealers:[],client_locations:[],client_contacts:[],client_brands:[],_method:"post"},V={visible:!1,from_date:null,to_date:null},W=function(t){return[{label:"#",key:"id",sortable:!0,sortKey:"id"},{label:t.$t("column.companyName"),key:"company_name",sortable:!0,sortKey:"company_name"},{label:t.$t("column.phone"),key:"phone",sortable:!0,sortKey:"phone"},{label:t.$t("column.email"),key:"email",sortable:!0,sortKey:"email"},{label:t.$t("column.fax"),key:"fax",sortable:!0,sortKey:"fax"},t.$global.hasAnyPermission(["clientsupdate","clientsdestroy"])?{label:t.$t("column.action"),class:"text-right",key:"action",width:150}:{}]},Z={mixins:[s["a"],C,F,q],components:{Datepicker:d["a"],Treeselect:p.a,QuickContactForm:E["a"],QuickLocationForm:P["a"],QuickLocationTypeForm:A["a"],QuickBrandForm:L["a"],QuickModelForm:D["a"]},data:function(){return{operationTitle:"title.clients",formFields:K({},H),filters:K({},V),listUrl:"clients",client_dealers:[],columns:W(this),dropdowns:{dealers:[],locations:[],location_types:[],contacts:[],brands:[],models:[]},show:!0}},mounted:function(){this.getDealers(),this.getLocations(),this.getLocationTypes(),this.getContacts(),this.getBrands(),this.getModels(),this.$route.query&&this.$route.query.operation&&this.$route.query.oToken&&this.handleEditClick(this.$route.query.oToken)},methods:{setOperation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t){case"add":this.operationTitle="title.addClient";break;case"edit":this.operationTitle="title.editClient";break;case"detail":this.operationTitle="title.clientDetails";break}this.resetClientContact(),this.resetClientBrand(),this.resetClientLocation(),this.$router.replace({query:Object.assign({},this.$route.query,K(K({},this.listQueryParams),{},{operation:t,oToken:e}))}).then((function(){})).catch((function(){}))},handleSubmit:function(){var t=this;return X(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(u["b"])({url:t.formFields.id?"clients/update":"clients/create",method:"post",data:K(K({},t.formFields),{},{client_contacts:t.client_contacts,client_brands:t.client_brands,client_locations:t.client_locations})});case 4:e.sent,t.formFields.id?Object(f["h"])(t.$notification):Object(f["c"])(t.$notification),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(b["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleDeleteClick:function(t){var e=this;return X(r.a.mark((function i(){return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(u["b"])({method:"post",url:"/clients/delete",data:{id:t}});case 3:i.sent,e.loadList(e.listQueryParams),Object(f["f"])(e.$notification),i.next=14;break;case 8:if(i.prev=8,i.t0=i["catch"](0),!i.t0.request||!i.t0.request.status||422!==i.t0.request.status){i.next=13;break}return Object(f["e"])(e.$notification),i.abrupt("return",!1);case 13:Object(f["d"])(e.$notification);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))()},handleEditClick:function(t){var e=this;return X(r.a.mark((function i(){var a,n,o,s,l,c,d;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,console.log("Tes"),i.next=4,Object(u["b"])({method:"get",url:"/clients/detail/".concat(t)});case 4:a=i.sent,n=a.data,o=n.dealers,s=n.client_contacts,l=n.client_brands,c=n.client_locations,d=n.main_location,delete n.locations,delete n.dealers,delete n.client_contacts,delete n.client_brands,delete n.main_location,delete n.client_locations,e.formFields=K(K(K({},e.formFields),n),{},{main_location_id:d?d.id:null,main_location_name:d?d.street+" "+d.street_no+" "+d.city+" "+d.city+" "+d.country:null,client_dealers:o.map((function(t){return t.id})),is_active:n.is_active>0}),e.client_dealers=o.map((function(t){return{id:t.id,token:t.token,name:t.name}})),e.client_contacts=s.map((function(t){return{id:t.id,token:t.token,contact_id:t.contact.id,locations:t.locations.map((function(t){return t.id}))}})),e.client_locations=c.map((function(t){return{id:t.id,token:t.token,location_id:t.location.id,location_type_id:t.location_type?t.location_type.id:null}})),e.client_brands=l.map((function(t){return{id:t.id,token:t.token,brand_id:t.brand.id,models:t.models.map((function(t){return t.id}))}})),i.next=27;break;case 20:i.prev=20,i.t0=i["catch"](0),console.log("23"),console.log(i.t0),Object(f["g"])(e.$notification),e.formFields=K({},H),console.log(i.t0);case 27:case"end":return i.stop()}}),i,null,[[0,20]])})))()},getDealers:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/dealers",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.dealers=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.dealers=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getLocations:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/locations",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.locations=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.locations=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getLocationTypes:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/location/types",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.location_types=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.location_types=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getContacts:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/contacts",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.contacts=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.contacts=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getBrands:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/brands",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.brands=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.brands=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getModels:function(){var t=this;return X(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["b"])({url:"/dropdowns/models",method:"post"});case 3:i=e.sent,a=i.data,t.dropdowns.models=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.models=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},handleAfterQuickContactCreated:function(t){var e=t.id,i=t.name;this.dropdowns.contacts.push({id:e,label:i}),this.client_contact.contact_id=e},handleAfterQuickContactUpdated:function(t){var e=y.a.findIndex(this.dropdowns.contacts,{id:t.id});this.$set(this.dropdowns.contacts[e],"label",t.name)},handleAfterQuickBrandCreated:function(t){var e=t.id,i=t.title;this.dropdowns.brands.push({id:e,label:i}),this.client_brand.brand_id=e},handleAfterQuickBrandUpdated:function(t){var e=y.a.findIndex(this.dropdowns.brands,{id:t.id});this.$set(this.dropdowns.brands[e],"label",t.title)},handleAfterQuickModelCreated:function(t){var e=[].concat(B(this.dropdowns.models),[{id:t.id,label:t.title,is_active:t.is_active,brand_id:this.client_brand.brand_id}]);this.$set(this.dropdowns,"models",e),this.client_brand.models.push(t.id)},handleAfterQuickMainLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.formFields.main_location_id=t.id},handleAfterQuickMainLocationUpdated:function(t){var e=y.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.locations[e],"label","".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country))},handleAfterQuickAdditionalLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.formFields.client_locations.push(t.id)},handleAfterQuickClientLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.client_location.location_id=t.id},handleAfterQuickClientLocationUpdated:function(t){var e=y.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.locations[e],"label","".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country))},handleAfterQuickClientLocationTypeCreated:function(t){this.dropdowns.location_types.push({id:t.id,label:t.title}),this.client_location.location_type_id=t.id},handleAfterQuickClientLocationTypeUpdated:function(t){var e=y.a.findIndex(this.dropdowns.location_types,{id:t.id});this.$set(this.dropdowns.location_types[e],"label",t.title)},hasListAccess:function(){return this.$global.hasPermission("clientsview")},getExtraParams:function(){return{filters:K(K({},this.filters),{},{from_date:this.filters.from_date?this.$global.dateToUtcDate(this.filters.from_date,"YYYY-MM-DD","YYYY-MM-DD"):"",to_date:this.filters.to_date?this.$global.dateToUtcDate(this.filters.to_date,"YYYY-MM-DD","YYYY-MM-DD"):""})}},handleResetFilterClick:function(){this.filters=K({},V),this.isFilterApplied="reset",this.loadList(this.listQueryParams)},afterCloseOperation:function(){this.formFields=K({},H),this.client_contacts.length=0,this.client_locations.length=0,this.client_brands.length=0,this.client_dealers.length=0},getDealersLabel:function(t){return t.map((function(t){return{id:t.id,label:t.name}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n")}},computed:K(K({},Object(c["c"])(["global","settings"])),{},{mainLocations:{cache:!1,get:function(){var t=this;return this.dropdowns.locations.map((function(e){var i=[];return y.a.map(t.client_contacts,(function(t){t.locations.map((function(t){return i.push(t)}))})),K(K({},e),{},{isDisabled:y.a.includes(i,e.id)})}))}},mainLocationDisable:{cache:!1,get:function(){var t=[];return y.a.map(this.client_contacts,(function(e){e.locations.map((function(e){return t.push(e)}))})),y.a.includes(t,this.formFields.main_location_id)}}})},tt=Z,et=(i("6f96"),i("2877")),it=Object(et["a"])(tt,a,n,!1,null,null,null);e["default"]=it.exports}}]);
//# sourceMappingURL=chunk-1a7155b3.0aa8d043.js.map